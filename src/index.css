@import "tailwindcss";

/* --- Custom dark variant (Tailwind v4) --- */
@custom-variant dark (:where(html[data-theme="dark"], html.dark) &);

/* --- Base document behavior --- */
html {
  scroll-behavior: smooth;
}
html, body {
  overflow-x: hidden;
  overflow-y: auto; /* keep vertical scroll for sticky headers */
}

/* --- Brand gradient palette --- */
:root {
  --em-accent-from-rgb: 56,189,248;   /* cyan-500 */
  --em-accent-mid-rgb: 79,70,229;     /* indigo-600 */
  --em-accent-to-rgb: 232,121,249;    /* fuchsia-500 */
  --em-header-h: 64px;                /* updated dynamically in JS if needed */
}

/* --- Subtle film grain background --- */
.em-noise::before {
  content: "";
  position: fixed;
  inset: -10%;
  pointer-events: none;
  z-index: 0;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.035'/></svg>");
  mix-blend-mode: overlay;
}

/* --- Shiny button effect --- */
.em-shine {
  position: relative;
  overflow: hidden;
}
.em-shine::after {
  content: "";
  position: absolute;
  inset: -200% 70% -200% -70%;
  transform: rotate(25deg);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.18), transparent);
  transition: transform .7s ease;
}
.em-shine:hover::after {
  transform: translateX(-130%) rotate(25deg);
}

/* --- Gradient hairline divider --- */
.em-hairline {
  height: 1px;
  width: 100%;
  background-image: linear-gradient(
    90deg,
    rgba(var(--em-accent-from-rgb), 0),
    rgba(var(--em-accent-mid-rgb), .45),
    rgba(var(--em-accent-to-rgb), 0)
  );
  opacity: .8;
}

/* --- Scrollbar hiding utility --- */
.scrollbar-hide::-webkit-scrollbar { display: none; }
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* --- Marquee animation pause on hover/tap --- */
.em-marquee:hover .em-row,
.em-marquee:active .em-row {
  animation-play-state: paused;
}

/* --- Focus ring (keyboard accessibility) --- */
:where([tabindex='0'], button):focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(6,182,212,.5);
}

/* --- Light/dark brand image auto inversion --- */
.dark .brand-img-auto-light {
  filter: invert(1) brightness(1.1);
}

/* --- Sticky header offset for anchor links --- */
.scroll-offset {
  scroll-margin-top: calc(var(--em-header-h) + 8px);
}

/* --- Reusable polished card --- */
.em-card {
  @apply rounded-3xl border border-black/10 dark:border-white/10 shadow-lg;
  @apply bg-white/75 dark:bg-white/5;
}

/* --- Gradient text helper --- */
.em-gradient {
  background-image: linear-gradient(
    90deg,
    rgba(56,189,248,1),
    rgba(79,70,229,1),
    rgba(232,121,249,1)
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}
